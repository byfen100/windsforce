<script type="text/javascript" src="<!--{:__PUBLIC__}-->/js/bigcolorpicker/js/jquery.bigcolorpicker.min.js"></script>
<!--<load file="<!--{:__PUBLIC__}-->/js/bigcolorpicker/css/jquery.bigcolorpicker.css" />-->

<!--{script}-->
$(function(){
	$("a[f='color-a']").bigColorpicker(function(el,color){
		var id=$(el).attr("data-target");
		
		if(id=='color'){
			$("#highlight_color").val(color);
			$(".color").css({"background-color":color});
		}
		
		if(id=='bg-color'){
			$("#highlight_bgcolor").val(color);
			$(".bg-clor").css({"background-color":color});
		}
	});

	<!--{if $arrColor[1][1]==0}-->
	switchHighlightstyle($WF('highlight_operating_1'),1);
	<!--{/if}-->

	<!--{if $arrColor[1][2]==0}-->
	switchHighlightstyle($WF('highlight_operating_2'),2);
	<!--{/if}-->

	<!--{if $arrColor[1][3]==0}-->
	switchHighlightstyle($WF('highlight_operating_3'),3);
	<!--{/if}-->
});

function switchHighlightstyle(oObj,nValue){
	if(parseInt($('#highlight_style_'+nValue).val())){
		$('#highlight_style_'+nValue).val(0);
		oObj.className=oObj.className.replace(/ currenthighlightstyle/,'');
	}else{
		$('#highlight_style_'+nValue).val(1);
		oObj.className+=' currenthighlightstyle';
	}
}

function clearColor(){
	$("#highlight_color").val('');
	$(".color").css({"background-color":'#E5E5E5'});
}

function clearBgcolor(){
	$("#highlight_bgcolor").val('');
	$(".bg-clor").css({"background-color":'#E5E5E5'});
}
<!--{/script}-->

	<!--<include file="grouptopicadmin+header" />-->
		
		<p><table cellspacing="0" cellpadding="0" class="table">
				<tr>
					<td>高亮&nbsp;<a href="javascript:void(0);" onclick="clearColor();" title="清除高亮颜色"><i class="icon-remove"></i></a></td>
					<td class="highlightoperating">
						<span>
							<input id="highlight_color" type="hidden" value="<!--{$arrColor[0]}-->" name="highlight_color">
							<input id="highlight_style_1" name="highlight_style[1]" value="1" type="hidden">
							<input id="highlight_style_2" name="highlight_style[2]" value="1" type="hidden">
							<input id="highlight_style_3" name="highlight_style[3]" value="1" type="hidden">
							<a class="highlight_item highlight_color color" style="background-color: <!--{$arrColor[0]}-->;" f="color-a" data-target="color"></a>
						</span>
						<a href="javascript:javascript:void(0);" id="highlight_operating_1" onclick="switchHighlightstyle(this,1);" class="highlightoperating_b <!--{if $arrColor[1][1]==1}-->currenthighlightstyle<!--{/if}-->" style="text-indent:0;text-decoration:none;font-weight:700;" title="文字加粗">B</a>
						<a href="javascript:javascript:void(0);" id="highlight_operating_2" onclick="switchHighlightstyle(this,2);" class="highlightoperating_i <!--{if $arrColor[1][2]==1}-->currenthighlightstyle<!--{/if}-->" style="text-indent:0;text-decoration:none;font-style:italic;" title="文字斜体">I</a>
						<a href="javascript:javascript:void(0);" id="highlight_operating_3" onclick="switchHighlightstyle(this,3);" class="highlightoperating_l <!--{if $arrColor[1][3]==1}-->currenthighlightstyle<!--{/if}-->" style="text-indent:0;text-decoration:underline;" title="文字加下划线">U</a>
					</td>
				</tr>
				<tr>
					<td>背景颜色&nbsp;<a href="javascript:void(0);" onclick="clearBgcolor();" title="清除高亮背景颜色"><i class="icon-remove"></i></a></td>
					<td class="highlightoperating">
						<input id="highlight_bgcolor" type="hidden" value="<!--{$arrColor[2]}-->" name="highlight_bgcolor">
						<a class="highlight_item highlight_color bg-clor" style="background-color:<!--{$arrColor[2]}-->;" f="color-a" data-target="bg-color">
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<p>颜色最好不要设置为白色，不然看不见</p>
					</td>
				</tr>
			</table>
		</p>

	<!--<include file="grouptopicadmin+footer" />-->